resources:
  jobs:
    ACME_E2E_Job:
      name: ACME_E2E_Job
      max_concurrent_runs: 1
      tasks:
        - task_key: ACME_DAILY_DATA_GENERATOR
          notebook_task:
            notebook_path: ../Data_Prep/acmi_daily_data_generator.py
        - task_key: ACME_RAW_LAYER
          depends_on:
            - task_key: ACME_DAILY_DATA_GENERATOR
          pipeline_task:
            pipeline_id: ${resources.pipelines.acmi_edw_raw_pipeline.id}
            full_refresh: false
        - task_key: ACME_BRONZE_LAYER
          depends_on:
            - task_key: ACME_RAW_LAYER
          pipeline_task:
            pipeline_id: ${resources.pipelines.acmi_edw_bronze_pipeline.id}
            full_refresh: false
        - task_key: ACME_SILVER_LAYER
          depends_on:
            - task_key: ACME_BRONZE_LAYER
          pipeline_task:
            pipeline_id: ${resources.pipelines.acmi_edw_silver_pipeline.id}
      queue:
        enabled: true
      environments:
        - environment_key: Default
          spec:
            client: "3"
      performance_target: PERFORMANCE_OPTIMIZED



      
