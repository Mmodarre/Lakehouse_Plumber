# Pipeline configuration for E2E testing
# Tests non-serverless cluster configuration

project_defaults:
  serverless: true


---
pipeline: acmi_edw_raw
catalog: "{catalog}"
schema: "{raw_schema}"
serverless: false 
clusters:
  - label: default
    node_type_id: "{cluster_node_type_id}"
    driver_node_type_id: "{cluster_driver_node_type_id}"
    autoscale:
      min_workers: "{cluster_autoscale_min_workers}"
      max_workers: "{cluster_autoscale_max_workers}"
      mode: "{cluster_autoscale_mode}"
photon: "{photon}"
edition: ADVANCED
channel: PREVIEW
continuous: "{continuous}"

---
pipeline: acmi_edw_bronze
catalog: "{catalog}"
schema: "{bronze_schema}"
serverless: false
clusters:
  - label: default
    node_type_id: Standard_D8ds_v5
    autoscale:
      min_workers: "{cluster_autoscale_min_workers}"
      max_workers: "{cluster_autoscale_max_workers}"
      mode: ENHANCED


